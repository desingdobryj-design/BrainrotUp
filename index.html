<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Brainrot Clicker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: 'Press Start 2P', monospace;
      background: linear-gradient(to bottom, #f5f5dc, #ffffff);
      text-align: center;
      padding: 20px;
      max-width: 480px;
      margin: 0 auto;
      overflow-x: hidden;
    }
    h1, h2, h3 { margin: 10px 0; }
    button, input, select {
      margin: 10px;
      padding: 10px;
      font-size: 12px;
      font-family: 'Press Start 2P', monospace;
      width: 90%;
      max-width: 300px;
    }
    #brainrot-name {
      font-size: 14px;
      margin-top: 10px;
    }
    #mutation-text, #success-text {
      font-size: 20px;
      font-weight: bold;
      margin-top: 20px;
      display: none;
    }
    #mutation-text { color: #ff4444; }
    #success-text { color: #44aa44; }
    #boost-banner {
      font-size: 14px;
      color: #ff8800;
      font-weight: bold;
      margin-top: 10px;
      display: none;
    }
    #boost-timer {
      font-size: 12px;
      color: #666;
      margin-bottom: 10px;
    }
    #upgrade-block, #inventory-block, #mix-block, #admin-panel {
      margin-top: 30px;
      padding: 15px;
      background: #fef6e4;
      border: 2px dashed #d4c4a4;
    }
    #inventory-list {
      margin-top: 10px;
      font-size: 12px;
      line-height: 1.4;
    }
    table {
      margin: 0 auto;
      border-collapse: collapse;
      font-size: 10px;
      width: 100%;
    }
    th, td {
      padding: 6px;
      border: 1px solid #aaa;
    }
    thead {
      background: #f0e4c3;
    }
    #recipe-table {
      display: none;
      margin-top: 20px;
      padding: 15px;
      background: #fff8e1;
      border: 2px solid #d4c4a4;
    }
    #captcha-block {
      display: none;
      margin-top: 20px;
      padding: 15px;
      background: #ffe0e0;
      border: 2px solid #cc4444;
    }
  </style>
</head>
<body>
  <h1>üß† Brainrot Clicker</h1>
  <h2 id="brainrot-name">Br Br Patapim</h2>
  <h3>–°–∏–ª–∞: <span id="power">1</span> –∫–æ–∏–Ω/–∫–ª–∏–∫</h3>
  <h3>–ú–æ–Ω–µ—Ç—ã: <span id="coins">0</span></h3>

  <button onclick="clickBrainrot()">Click!</button>
  <div id="boost-banner">‚ö° BOOST ACTIVE!</div>
  <div id="boost-timer">–°–ª–µ–¥—É—é—â–∏–π Boost —á–µ—Ä–µ–∑: <span id="boost-countdown">120</span> —Å–µ–∫</div>

  <div id="upgrade-block">
    <h2>üîÅ –£–ª—É—á—à–µ–Ω–∏–µ</h2>
    <div id="upgrade-info"></div>
    <button onclick="tryUpgrade()">–£–ª—É—á—à–∏—Ç—å</button>
    <button onclick="storeToInventory()">–ü–æ–ª–æ–∂–∏—Ç—å –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å</button>
  </div>

  <div id="mutation-text">–ú–£–¢–ê–¶–ò–Ø!</div>
  <div id="success-text">‚úÖ –£–°–ü–ï–®–ù–û</div>

  <div id="captcha-block">
    <h3>üß† –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ, —á—Ç–æ –≤—ã –Ω–µ –±–æ—Ç</h3>
    <p>–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥: <span id="captcha-code"></span></p>
    <input type="text" id="captcha-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ü–∏—Ñ—Ä—ã">
    <button onclick="checkCaptcha()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
  </div>
  <div id="inventory-block">
    <h2>üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h2>
    <div id="inventory-list"></div>
    <select id="equip-select"></select>
    <button onclick="equipFromInventory()">–≠–∫–∏–ø–∏—Ä–æ–≤–∞—Ç—å</button>
  </div>

  <div id="mix-block">
    <h2>üß™ Mix Brainrot</h2>
    <button onclick="toggleRecipeTable()">üìñ –†–µ—Ü–µ–ø—Ç Mix</button>

    <div id="recipe-table">
      <h3>üìñ –í—Å–µ —Ä–µ—Ü–µ–ø—Ç—ã –º–∏–∫—Å–æ–≤</h3>
      <table>
        <thead>
          <tr><th>–ë—Ä–µ–π–Ω—Ä–æ—Ç A</th><th>–ë—Ä–µ–π–Ω—Ä–æ—Ç B</th><th>–†–µ–∑—É–ª—å—Ç–∞—Ç</th><th>–°–∏–ª–∞</th></tr>
        </thead>
        <tbody>
          <tr><td>Tripi Tropi</td><td>Frigo Camelo</td><td>Fusionrot Echo</td><td>20</td></tr>
          <tr><td>Zombrot Ziggurat</td><td>Memelord Munchkin</td><td>Glitchrot Phantom</td><td>100</td></tr>
          <tr><td>Finalrot Omega</td><td>Neurogeist Prime</td><td>Overbrain Entity</td><td>500</td></tr>
          <tr><td>Cryptoblob Crasher</td><td>Rotzilla Supreme</td><td>Blobzilla Reactor</td><td>750</td></tr>
          <tr><td>Brainfinity Ascendant</td><td>Fusionrot Echo</td><td>Ascendrot Infinity</td><td>1200</td></tr>
        </tbody>
      </table>
      <button onclick="toggleRecipeTable()" style="margin-top:10px; background:#ff4444; color:white;">‚ùå –ó–∞–∫—Ä—ã—Ç—å</button>
    </div>

    <div style="margin-top:20px;">
      <p>–í—ã–±–µ—Ä–∏—Ç–µ –¥–≤—É—Ö –ë—Ä–µ–π–Ω—Ä–æ—Ç–æ–≤ –¥–ª—è —Å–ª–∏—è–Ω–∏—è:</p>
      <div style="display:flex; flex-wrap:wrap; justify-content:center; gap:10px;">
        <div>
          <label>üß™ –ö–æ–ª–±–∞ A</label><br>
          <select id="mix1"></select>
        </div>
        <div>
          <label>üß™ –ö–æ–ª–±–∞ B</label><br>
          <select id="mix2"></select>
        </div>
      </div>
      <button onclick="mixBrainrots()" style="margin-top:10px;">–°–º–∏–∫—Å–æ–≤–∞—Ç—å</button>
      <div id="mix-result" style="margin-top:10px;"></div>
    </div>
  </div>

  <div id="admin-access">
    <h2>üîê –ê–¥–º–∏–Ω-–¥–æ—Å—Ç—É–ø</h2>
    <input type="password" id="admin-pass" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
    <button onclick="checkAdmin()">–í–æ–π—Ç–∏</button>
  </div>

  <div id="admin-panel" style="display:none;">
    <h3>üõ†Ô∏è –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h3>
    <button onclick="spawnBoost()">–°–ø–∞–≤–Ω–∏—Ç—å Boost</button><br>
    <input type="number" id="give-coins" placeholder="–í—ã–¥–∞—Ç—å –º–æ–Ω–µ—Ç—ã">
    <button onclick="giveCoins()">–í—ã–¥–∞—Ç—å</button>
                                                                                </div>
      <script>
let coins = parseInt(localStorage.getItem('brCoins')) || 0;
let currentIndex = parseInt(localStorage.getItem('brIndex')) || 0;
let inventory = JSON.parse(localStorage.getItem('brInventory')) || [];
let boostActive = false;
let boostCountdown = 120;
let clickCount = 0;
let captchaCode = "";

function updateStats() {
  document.getElementById('coins').textContent = coins;
  document.getElementById('power').textContent = brainrots[currentIndex].power;
  document.getElementById('brainrot-name').textContent = brainrots[currentIndex].name;
  localStorage.setItem('brCoins', coins);
  localStorage.setItem('brIndex', currentIndex);
  localStorage.setItem('brInventory', JSON.stringify(inventory));
  updateUpgradeInfo();
  updateInventoryUI();
}

function updateUpgradeInfo() {
  const info = document.getElementById('upgrade-info');
  if (currentIndex >= brainrots.length - 1) {
    info.innerHTML = "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç!";
    return;
  }
  const next = brainrots[currentIndex + 1];
  let boostText = boostActive ? " (+5% BOOST)" : "";
  info.innerHTML = `${brainrots[currentIndex].name} ‚Üí ${next.name}<br>–°—Ç–æ–∏–º–æ—Å—Ç—å: ${next.cost} –º–æ–Ω–µ—Ç<br>–®–∞–Ω—Å —É—Å–ø–µ—Ö–∞: ${next.chance}%${boostText}`;
}

function clickBrainrot() {
  if (document.getElementById('captcha-block').style.display === 'block') return;

  clickCount++;
  if (clickCount % 20 === 0) {
    showCaptcha();
    return;
  }

  coins += brainrots[currentIndex].power;
  updateStats();
}

function showCaptcha() {
  captchaCode = Math.floor(100 + Math.random() * 900).toString();
  document.getElementById('captcha-code').textContent = captchaCode;
  document.getElementById('captcha-input').value = "";
  document.getElementById('captcha-block').style.display = 'block';
}

function checkCaptcha() {
  const input = document.getElementById('captcha-input').value.trim();
  if (input === captchaCode) {
    document.getElementById('captcha-block').style.display = 'none';
    coins += brainrots[currentIndex].power;
    updateStats();
  } else {
    alert("–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.");
  }
}

function tryUpgrade() {
  if (currentIndex >= brainrots.length - 1) {
    alert("–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å!");
    return;
  }
  const next = brainrots[currentIndex + 1];
  if (coins < next.cost) {
    alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!");
    return;
  }
  coins -= next.cost;
  let chance = next.chance;
  if (boostActive) chance += 5;
  const roll = Math.random() * 100;
  if (roll <= chance) {
    currentIndex++;
    showMutation();
    showSuccess();
  } else {
    alert("–£–ª—É—á—à–µ–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å!");
  }
  updateStats();
}

function showMutation() {
  const text = document.getElementById('mutation-text');
  text.style.display = 'block';
  setTimeout(() => { text.style.display = 'none'; }, 2000);
}

function showSuccess() {
  const text = document.getElementById('success-text');
  text.style.display = 'block';
  setTimeout(() => { text.style.display = 'none'; }, 1000);
}

function startBoostCycle() {
  setInterval(() => {
    boostCountdown--;
    document.getElementById('boost-countdown').textContent = boostCountdown;
    if (boostCountdown <= 0) {
      boostActive = true;
      document.getElementById('boost-banner').style.display = 'block';
      updateUpgradeInfo();
      setTimeout(() => {
        boostActive = false;
        document.getElementById('boost-banner').style.display = 'none';
        updateUpgradeInfo();
      }, 20000);
      boostCountdown = 120;
    }
  }, 1000);
}

function checkAdmin() {
  const pass = document.getElementById('admin-pass').value;
  if (pass === "Brainrot777") {
    document.getElementById('admin-panel').style.display = 'block';
  } else {
    alert("–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å");
  }
}

function spawnBoost() {
  boostActive = true;
  document.getElementById('boost-banner').style.display = 'block';
  updateUpgradeInfo();
  setTimeout(() => {
    boostActive = false;
    document.getElementById('boost-banner').style.display = 'none';
    updateUpgradeInfo();
  }, 20000);
}

function giveCoins() {
  const amount = parseInt(document.getElementById('give-coins').value);
  if (!isNaN(amount)) {
    coins += amount;
    updateStats();
  }
}

updateStats();
startBoostCycle();
function storeToInventory() {
  const current = brainrots[currentIndex];
  inventory.push(current);
  currentIndex = 0;
  updateStats();
}

function updateInventoryUI() {
  const list = document.getElementById('inventory-list');
  const select = document.getElementById('equip-select');
  const mix1 = document.getElementById('mix1');
  const mix2 = document.getElementById('mix2');
  list.innerHTML = inventory.map((b, i) => `${i + 1}. ${b.name} (${b.power})`).join("<br>");
  [select, mix1, mix2].forEach(sel => {
    sel.innerHTML = "";
    inventory.forEach((b, i) => {
      const opt = document.createElement('option');
      opt.value = i;
      opt.textContent = `${b.name} (${b.power})`;
      sel.appendChild(opt);
    });
  });
}

function equipFromInventory() {
  const index = parseInt(document.getElementById('equip-select').value);
  if (!isNaN(index)) {
    const selected = inventory[index];
    currentIndex = brainrots.findIndex(b => b.name === selected.name);
    if (currentIndex === -1) {
      brainrots.push(selected);
      currentIndex = brainrots.length - 1;
    }
    updateStats();
  }
}

function mixBrainrots() {
  const i1 = parseInt(document.getElementById('mix1').value);
  const i2 = parseInt(document.getElementById('mix2').value);
  if (i1 === i2 || isNaN(i1) || isNaN(i2)) {
    alert("–í—ã–±–µ—Ä–∏—Ç–µ –¥–≤—É—Ö —Ä–∞–∑–Ω—ã—Ö –ë—Ä–µ–π–Ω—Ä–æ—Ç–æ–≤");
    return;
  }
  const b1 = inventory[i1];
  const b2 = inventory[i2];
  const key = `${b1.name}|${b2.name}`;
  const reverseKey = `${b2.name}|${b1.name}`;
  const result = mixRecipes[key] || mixRecipes[reverseKey];
  if (result) {
    inventory.push(result);
    document.getElementById('mix-result').innerHTML = `‚úÖ –ü–æ–ª—É—á–µ–Ω: ${result.name} (${result.power})`;
    updateInventoryUI();
  } else {
    document.getElementById('mix-result').innerHTML = `‚ùå –≠—Ç–∏ –ë—Ä–µ–π–Ω—Ä–æ—Ç—ã –Ω–µ —Å–æ—á–µ—Ç–∞—é—Ç—Å—è`;
  }
}

function toggleRecipeTable() {
  const table = document.getElementById('recipe-table');
  table.style.display = table.style.display === 'none' ? 'block' : 'none';
}
</script>
</body>
</html>
